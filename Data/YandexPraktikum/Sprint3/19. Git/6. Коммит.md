### Как сохранить изменения

Когда все файлы добавлены в индекс, сделай первый коммит — зафиксируй все изменения в сохранённой версии и оставь комментарий.

Сделать это можно специальной командой `git commit` c ключом `-m` (от англ. message, «послание»). После ключа указывают комментарий в кавычках:



```
$ git commit -m "My first commit"
# сделали первый коммит
# текст комментария — "My first commit", в переводе "Мой первый коммит"
# комментарии лучше писать латиницей, чтобы они корректно отображались в командной строке 
```

В комментарии к коммиту следует пояснить, что и почему изменилось в проекте. Лучше ответственно писать комментарии. В будущем они помогут тебе или твоим коллегам понять, зачем понадобилось то или иное изменение.

Что делать, если команда использована без ключа

Если используешь команду без ключа `-m`, откроется новое окно. Там система попросит тебя добавить комментарий и напомнит тебе, какие изменения вошли в текущий коммит.

Без комментария Git не считает коммит завершённым и не даст тебе продолжить работу. Разрешить ситуацию можно двумя способами:

1. Нажать ESC и ввести :q!, чтобы отменить коммит.
2. Написать комментарий, нажать ESC и ввести :wq, чтобы совершить коммит.

Эти комбинации одинаково работают для всех операционных систем.

Когда введёшь команду и напишешь комментарий, нажми `Enter`. Так ты запустишь команду, она выполнит коммит и выведет сообщение:



```
[main (root-commit) ab98382] My first commit
 2 files changed, 7 insertions(+), 0 deletions(-)
 create mode 100644 App.java
 create mode 100644 Main.java 
```


### Из чего состоит коммит

В сообщении несколько частей

В первой строке ты видишь свой комментарий `My first commit`. В квадратных скобках перед ним — информация о коммите:

- **main** — название ветви, в которой сделан коммит. О ветвлении будет отдельный урок;
- **root-commit** (англ. «корневой коммит») — означает, что этот коммит самый первый. В этой папке такое сообщение ты больше не увидишь;
- **контрольная сумма** — первые семь символов уникального хеша, присвоенного коммиту. Здесь это `ab98382`. Подробно о хешировании — в следующем уроке.

Ниже информация о файлах коммита:

- изменено два файла — `2 files changed`;
- в общем счёте в них добавлено семь строк и ни одна пока не удалена:`7 insertions(+), 0 deletions(-)`;
- список зафиксированных файлов и тип действия с ними — создание (`create mode 100644 App.java` и т. д.).

### Задание

1. Сделай свой первый коммит с комментарием `My first commit`.
2. Посмотри статус репозитория.
3. Создай в папке новый файл `readme.txt`.
4. Добавь файл в индекс.
5. Сделай коммит с комментарием `Added readme.txt`.


### Изменение последнего коммита

Не всегда коммит получается с первой попытки. Бывает, что разработчик забыл проиндексировать файл, написал комментарий с ошибкой или не внёс часть изменений.

Всё это можно исправить — вызвать нужные команды и сделать новый коммит. Но тогда неудачное сохранение останется в истории. Это не критично, но неприятно — как помарка в идеальной тетради.

Можно не делать новый коммит, а отредактировать предыдущий. Для этого есть ключ `--amend` (англ. _amend_, «исправить»): `git commit --amend -m "Текст комментария"`.

Команда отредактирует предыдущий коммит: последнее сохранение объединит все изменения. Вместо двух коммитов — неудачного и повторного — в истории будет один.



```
$ git commit -m "First commit: change Main.java"
# сделали первый коммит, в кавычках написали комментарий
# но забыли добавить в файл одну строчку

$ nano Main.java
# открыли файл в редакторе кода и внесли изменения

$ git add Main.java
# добавили новые изменения в индекс

$ git commit --amend -m "First commit: change Main.java"
# отредактировали первый коммит 
```

Используй ключ только если изменения в новом коммите дополняют прошлый и связаны с ним. Когда добавляешь новые файлы, которых не было на прошлом шаге, обязательно делай отдельный коммит.