Многие приложения похожи по внутренней реализации. Они построены по шаблонам — **архитектурным паттернам**. Это типовые решения для задач, которые часто встречаются в разработке.

В этом уроке ты узнаешь, какие бывают паттерны. Это поможет быстрее и увереннее читать код приложений.

Тебе уже знаком [клиент-серверный шаблон](https://practicum.yandex.ru/learn/qa-automation-engineer-java-extended/courses/79811bd6-9e45-40f6-9d8d-81a560f522c3/sprints/283467/topics/4052ff79-7096-47e1-9b54-2f88fb0a7528/lessons/1221c511-c6c1-4811-b03f-6e63216f0b54/). Есть и другие архитектурные паттерны.


### Многоуровневый шаблон

Многоуровневый шаблон используют, когда программу можно разложить на подзадачи — слои. Каждый слой передаёт информацию следующему, более высокому слою.

Чаще всего встречаются четыре слоя:

1. **Слой представления, или пользовательского интерфейса**. Отрисовывает UI и собирает информацию от пользователя: например, о запросах к приложению.
2. **Слой приложения, или сервиса**. Обрабатывает информацию с уровня представления, передает её на уровень ниже и получает ответ. Этот слой может добавлять, изменять и удалять данные из слоя доступа к данным. Иногда слоя приложения нет — тогда всё выполняется на уровне бизнес-логики.
3. **Слой бизнес-логики, или предметной области**. Это классы, которые описывают основные сущности и логику работы программы. Например, в программе для игры в шахматы в слое бизнес-логик описаны поле, фигуры и возможные ходы.
4. **Слой доступа к данным, или хранения данных**. Отвечает за взаимодействие с БД или другими источниками данных.


### Каналы и фильтры

Этот шаблон подходит для программ, которые производят и обрабатывают потоки данных. Пример такой программы — компилятор.

По **каналу** передаётся написанный код, а **фильтры** анализируют и компилируют его.


### Model-View-Controller

Паттерн **MVC** (от англ. Model-View-Controller, «модель-представление-контроллер») подходит для программ, которые взаимодействовуют с пользователем. Этот паттерн используют часто, поэтому ты, скорее всего, столкнёшься с ним в работе.

Программу делят на три части:

1. **Модель** содержит ключевые данные и функциональность.
2. **Представление** показывает информацию пользователю. Представлений может быть несколько.
3. **Контроллер** обрабатывает данные от пользователя.

Например, перед тобой лежит собака. То, что ты видишь, — это **представление** собаки.

Когда ты с ней взаимодействуешь — чешешь за ухом — её нервная система получает информацию об этом.

Нервная система — это **контроллер**. Она передаёт сигналы в мозг — **модель**. Мозг передаёт обратный сигнал, и представление меняется: собака начинает дрыгать лапой.


В приложении это устроено так:

- **Представление** — пользовательский интерфейс.
- **Контроллер** — обработчик событий, которые запускает пользователь.
- **Модель** — метод, который выполняет операции. Его запускает контроллер.

Обычно модель, представление и контроллер связаны так:
![img_1.png](img%2Fimg_1.png)

Схема не всегда такая. Во многих веб-приложениях модель и вид не взаимодействуют. Модель отдаёт данные контроллеру, а он передаёт их виду. Затем вид меняет интерфейс.
![img_2.png](img%2Fimg_2.png)

Например, части банковского приложения могут взаимодействовать так:

1. Пользователь взаимодействует с видом — интерфейсом: например, выпускает карту.
2. Запрос уходит на сервер: там контроллер получает запрос и определяет, какой метод API вызвать.
3. Модель выполняет бизнес-операции: регистрирует карту в базе данных, присваивает номер.
4. Модель отправляет данные — например, код 200 и номер карты — обратно в контроллер.
5. Контроллер передаёт эти данные в вид.
6. Пользователь видит в интерфейсе новую карту и её номер.


Этот паттерн помогает отделить внутреннее представление информации — бэкенд от представления пользователя — фронтенда.

В MVC компоненты изолированы. Например, можно полностью переписать любой из компонентов, не меняя остальные.

Ещё один плюс — можно использовать код повторно: иногда один и тот же компонент подходит для разных задач. Например, в контроллере приложения есть метод для сортировки. Через него можно сортировать и новости, и товары.


Это последний урок про архитектуру приложений. [Шпаргалка](https://code.s3.yandex.net/qa-automation-engineer/java/track2/cheatsheets/sprint8/architecture_cheatsheet.pdf) поможет вспомнить всё, что удалось изучить.