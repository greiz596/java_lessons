Ты уже знаешь, как использовать библиотеку Gson вместе с RestAssured. Её можно применять и отдельно — чтобы превращать JSON в объекты и наоборот.

Как ты знаешь, RestAssured работает только с запросами и ответами. Бывает, нужно сериализовать или десериализовать данные не в запросе или ответе, а просто так.

Допустим, есть две версии приложения: старая и новая. В новой поменялась внутренняя логика: какой-то сложный объект стал формироваться по-другому.

Нужно сравнить объект, сформированный по-старому, и объект, сформированный по-новому. Допустим, подобраться к нему через юнит-тесты не получится: алгоритмы слишком сложные и запутанные.

Можно сериализовать эти два объекта. Они превратятся в JSON — то есть в текстовый вид. Так их легче сравнить.

Для этого придётся использовать только Gson — без RestAssured.

### Как сериализовать объект: метод `toJson`

Вспомни JSON из прошлого урока — карточку в Mesto:
```
{
    "name": "Интересное место", 
    "link": "https://code.s3.yandex.net/qa-automation-engineer/java/files/paid-track/sprint1/photoSelenide.jpg" 
} 
```

Представь, что он хранится в виде объекта. Нужно сериализовать его в строковое представление.

В библиотеке Gson есть класс `Gson`. Сперва тебе нужно создать его экземпляр, чтобы использовать методы этого класса:
```
Gson gson = new Gson(); 
```

Второй шаг — создать класс POJO с полями, как в JSON. Поля должны быть приватными. Всё это тебе уже удалось проделать в уроке про сериализацию, когда нужно было создать класс `Card`.

Дальше — конструкторы. Если решишь использовать для инициализации объекта конструктор с параметрами, не забудь про конструктор без параметров. Он нужен для работы Gson.

После можно сериализовать данные. Это поможет сделать метод `toJson`: нужно вызвать его для объекта `Gson`. POJO нужно передать как параметр:
```
Card card = new Card("Интересное место", "https://code.s3.yandex.net/qa-automation-engineer/java/files/paid-track/sprint1/photoSelenide.jpg"); // создали объект card, который содержит данные для JSON
String json = gson.toJson(card); 
```

Теперь в строке `json` лежит JSON, который раньше был объектом:
```
{"name":"Интересное место","link":"https://code.s3.yandex.net/qa-automation-engineer/java/files/paid-track/sprint1/photoSelenide.jpg"}
```

### Как получить читаемую строку

Иногда нужно получить читаемую строку с JSON: разделенную пробелами и переносами строк. Так её удобнее читать.

Чтобы получить строку такого вида, достаточно при создании экземпляра `Gson` инициализировать его не конструктором, а методом. Понадобится конструкция `GsonBuilder()`:
```
Gson gson = new GsonBuilder().setPrettyPrinting().create(); 
```

Получится строка в форматированном виде:

`{ "name": "Интересное место", "link": "https://code.s3.yandex.net/qa-automation-engineer/java/files/paid-track/sprint1/photoSelenide.jpg" }`

### Как десериализовать JSON: метод `fromJson`

Метод `fromJson` десериализует JSON:
```
// здесь лежит json в строковом формате для карточки
String jsonString = "{\"name\":\"Интересное место\",\"link\":\"https://code.s3.yandex.net/qa-automation-engineer/java/files/paid-track/sprint1/photoSelenide.jpg\"}";
// десериализуем строку 
Card card = gson.fromJson(jsonString, Card.class); 
```

Второй параметр в методе `fromJson` указывает на то, в какой класс нужно десериализовать JSON.

В результате `card` будет содержать значения из исходной `jsonString`.

Всё про RestAssured и Gson — в [шпаргалке](https://code.s3.yandex.net/qa-automation-engineer/java/track2/cheatsheets/sprint7/rest_assured_cheatsheet.pdf).