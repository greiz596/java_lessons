### 1. Переменные-ссылки 

В языке Java переменные могут быть двух видов: переменные примитивного типа и все остальные. Вот про «все остальные» мы сейчас и поговорим.

На самом деле правильнее будет сказать, что есть переменные примитивного типа (**primitive type variables**) и ссылочные переменные (**reference variables**). Так что же это такое, эти ссылочные переменные?

В отличие от примитивных типов, которые позволяют хранить значения прямо внутри переменных, переменные ссылочных типов хранят **ссылки на объекты.** Т.е. где-то в памяти существует некий объект, а в переменной-ссылке просто хранится адрес этого объекта в памяти (ссылка).

Значения прямо внутри переменных хранят только примитивные типы, **все** остальные типы хранят только ссылку на объект. Ранее вы уже, кстати, сталкивались с двумя такими типами переменных — это переменные типа `String` и переменные типа массив.

И массив, и строка являются объектами, которые хранятся где-то в памяти. Переменные типа `String` и переменные типа массив хранят только ссылки на объекты.

![Pasted image 20230405120656.png](..%2F..%2F..%2F..%2FAppData%2FLocal%2FTemp%2FPasted%20image%2020230405120656.png)

Переменные `int a, int b и double d` — примитивные и хранят значение внутри себя.

Переменная `String str` — ссылочная и хранит адрес (ссылку) объекта типа `String` в памяти.

При присваивании примитивного значения переменной примитивного типа, его значение копируется (дублируется). При присваивании же ссылочной переменной копируется только адрес объекта, сам же объект при этом не копируется.

### 2. Суть ссылок 

В чем принципиальное отличие переменных-ссылок от примитивных переменных?

Примитивная переменная — как коробка: в ней можно хранить какое-нибудь значение. Переменная-ссылка больше похожа на листок бумаги с телефонным номером на нем.

**Машина vs ключи от машины**

Представьте, что вы решили подарить другу на день рождения машину. Вы же не будете заворачивать ее в коробку и нести с собой: машина для этого слишком большая.

Гораздо удобнее взять с собой только ключи от машины и коробку, достаточно вместительную для них. А ваш друг и так все поймет, когда достанет из коробки ключи. Нет нужды нести с собой всю машину, когда можно просто передать ключи.

**Человек vs его телефонный номер**

Или еще один вариант: человек и его телефонный номер. Телефонный номер — не сам человек, но номер телефона можно использовать, чтобы звонить ему, спрашивать у него какую-то информацию, давать команды.

Ссылка тоже используется для взаимодействия с объектом. Все объекты взаимодействуют друг с другом при помощи ссылок. Вместо того, чтобы «обмениваться людьми», достаточно обменяться телефонными номерами.

При присваивании значения в примитивную переменную, его значение копируется (дублируется). При присваивании же значения ссылочной переменной копируется только адрес объекта («телефонный номер»), сам же объект при этом не копируется.

Ссылка даёт ещё одно преимущество: можно передать ссылку на объект в какой-нибудь метод, и этот метод будет в состоянии модифицировать (изменять) наш объект, используя ссылку на него, вызывая его методы и обращаясь к данным внутри объекта.

### 3. Присваивание ссылок

При присваивании ссылочных переменных происходит просто присваивание адреса объекта в памяти. Сами объекты при этом не появляются и не исчезают.

Такой подход позволяет избежать копирования больших объемов памяти. Если куда-то нужно передать очень большой объект, мы просто передадим в этот метод ссылку на объект и все. Ссылка занимает гораздо меньше места.

![Pasted image 20230405121131.png](..%2F..%2F..%2F..%2FAppData%2FLocal%2FTemp%2FPasted%20image%2020230405121131.png)

Размер всех переменных-ссылок (независимо от типа) одинаков и составляет 4 байта (как тип int). Но! Если ваше приложение запущено на 64-х разрядной Java-машине, размер всех ссылок будет 8 байт (64 бита).

Ссылки при этом можно только присваивать друг другу. Вы не можете менять ссылки или присваивать им произвольные значения

### 4. Пустая ссылка — `null` 

А что хранит переменная-ссылка, если ей еще ничего не присвоили?

А хранит она пустую ссылку — null. `null` — это специальное ключевое слово в Java, обозначающее отсутствие ссылки (пустую ссылку). Значение `null` можно присвоить любой ссылочной переменной.

Все переменные-ссылки, если им не присвоена какая-нибудь ссылка, имеют значение `null`.

Локальные переменные без значения считаются неинициализированными как для примитивных типов, так и для типов-ссылок.

Если переменная хранит ссылку на какой-то объект, а вы хотите стереть значение переменной, просто присвойте ей ссылку null.

### 5. Передача ссылок в методы

Если у какого-нибудь метода есть параметры ссылочные переменные, передача значений в них происходит точно так же, как и при работе с обычными переменными. Переменной-параметру просто присваивается значение другой переменной

```Java
public static void fill(String[] array, String value)  
{  
    for (int i = 0; i < array.length; i++)  
        array[i] = value;  
}  
  
public static void main(String[] args)  
{  
    String[] data = new String[10];  
    fill(data, "Hello");  
}
```

При вызове метода `fill` переменной `array` присваивается ссылка на массив `data`. Переменной `value` присваивается ссылка на объект-строку «Hello».

![Pasted image 20230405125733.png](..%2F..%2F..%2F..%2FAppData%2FLocal%2FTemp%2FPasted%20image%2020230405125733.png)


Переменные `data` и `array` ссылаются (хранят ссылки) на один и тот же массив-контейнер в памяти.

Переменная `value` хранит ссылку объекта строки `Hello`.

Ячейки массива тоже хранят просто ссылки на объект `Hello`.

Фактически никакого дублирования объектов не происходит — копируются только ссылки.