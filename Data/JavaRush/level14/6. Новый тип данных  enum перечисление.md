## 1. Предыстория появления `enum`

Сегодня мы изучим еще одну разновидность типов данных в Java — `enum`. Название `enum` происходит от слова Enumeration — перечисление. Что же это за тип данных и с чем его едят?

Иногда в работе программиста возникает необходимость создать новый тип данных, переменные которого принимают только значения из небольшого фиксированного списка.

Например, тип `ДеньНедели` может принимать только значения `ПОНЕДЕЛЬНИК`, `ВТОРНИК`, `СРЕДА`, ... Всего 7 значений. Или тип `Месяц` может принимать только значения `ЯНВАРЬ`, `ФЕВРАЛЬ`, `МАРТ`, ... Всего 12 значений.

Можно, конечно, использовать числа (тип `int`): `1` — понедельник, `2` — вторник и т.д. Но кто-то случайно может присвоить такой переменной значение `8`, или, например, значение `0`.

Легко может возникнуть ситуация, когда один программист думает, что дни недели (или месяцы) нумеруются с нуля, другой — что с единицы и т.д.

Поэтому в Java придумали тип данных, который состоит из конечного набора значений — `enum`.
## 2. Объявление типа

Выглядит объявление нового `enum` типа данных так:

```java
enum ИмяТипа
{
   ЗНАЧЕНИЕ1,
   ЗНАЧЕНИЕ2,
   ЗНАЧЕНИЕ3
}
```

Где `ИмяТипа` — это имя нового типа (класса), а в скобках через запятую перечислены возможные значения: `Значение1`, `Значение2`, `Значение3`.

Давайте ради примера создадим свой `enum` для типа `ДеньНедели`:
![Pasted image 20230922220530.png](..%2Fimg%2Flevel14%2FPasted%20image%2020230922220530.png)

Присваивать значения переменным этого типа можно таким образом:

```java
Day day = Day.MONDAY;
```

## 3. Методы `enum`’а
Тип `enum` имеет несколько встроенных методов, два из них очень интересные:

Статический метод `values()` возвращает массив всех значений типа `enum`:
![Pasted image 20230922220718.png](..%2Fimg%2Flevel14%2FPasted%20image%2020230922220718.png)

Метод `ordinal()` возвращает порядковый номер константы. Вызывать его нужно не у класса `enum`, а у значения `enum`:

![Pasted image 20230922220757.png](..%2Fimg%2Flevel14%2FPasted%20image%2020230922220757.png)

## 4. Преобразование в класс

На самом деле никакой магии тут нет, и компилятор просто подсыпал нам немного синтаксического сахара. Во время компиляции класс `enum Day` будет преобразован в обычный класс:
![Pasted image 20230922221920.png](..%2Fimg%2Flevel14%2FPasted%20image%2020230922221920.png)
![Pasted image 20230922222003.png](..%2Fimg%2Flevel14%2FPasted%20image%2020230922222003.png)

Т.е. в принципе ничего страшного тут не происходит. Компилятор создает класс `Day`, затем добавляет в него константы, которые были значениями у `enum`, добавляет недостающие методы и делает конструктор класса `private`. Как работают конструкторы, мы разберем немного позднее.

Теперь, думаем, понятно, почему мы заносим значение в переменную таким образом:

```java
Day day = Day.MONDAY;
```

`MONDAY` — это просто статическое поле (константа) класса `Day`. А при обращении к статическим методам и полям извне класса перед именем поля или метода нужно указывать имя класса.

## 5. Еще методы `enum`’а

Еще у всех `enum`-классов есть несколько интересных особенностей.

**Преобразование в строку и обратно**

Чтобы преобразовать объект типа enum в строку, у него нужно вызвать метод `toString()`.

```java
String str = Day.MONDAY.toString();
```

Для обратного преобразования (строки в объект `Day`) можно воспользоваться статическим методом `valueOf()`:

```java
Day day = Day.valueOf("MONDAY");
```

Очень удобно и полезно во многих случаях.

**Преобразование в число и обратно**

Как преобразовать объект типа `enum` в число, вы уже знаете: для этого нужно вызвать метод `ordinal()`:

```java
int index = Day.MONDAY.ordinal();
```

Для обратного преобразования (числа в объект `Day`) нужно воспользоваться конструкцией подлиннее:

```java
Day day = Day.values()[2];
```

Примеры:
![Pasted image 20230923093101.png](..%2Fimg%2Flevel14%2FPasted%20image%2020230923093101.png)

## 6. Добавление своих методов в `enum`

Так как `enum` во время компиляции превращается в обычный класс, в нем можно объявлять методы: эти методы просто добавятся в класс, который сгенерирует компилятор. Например, мы хотим, чтобы наш `enum Day` возвращал не массив значений, а список.

Тогда в него можно дописать такой код:

![Pasted image 20230923094942.png](..%2Fimg%2Flevel14%2FPasted%20image%2020230923094942.png)

![Pasted image 20230923095002.png](..%2Fimg%2Flevel14%2FPasted%20image%2020230923095002.png)