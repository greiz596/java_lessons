### 1. Массивы в памяти

При создании массивов (как и при создании строк) в памяти выделяются два блока памяти: один для хранения самого массива (контейнера), а второй — под переменную, которая хранит его адрес. Уточненная ситуация изображена на картинке ниже:

![Pasted image 20230320090944.png](..%2F..%2F..%2F..%2FAppData%2FLocal%2FTemp%2FPasted%20image%2020230320090944.png)

Зеленым цветом изображен массив на `10` элементов типа `int` и переменная типа `int[]`, которая хранит адрес (ссылку) массива типа `int` в памяти.
Для сравнения синим цветом обозначена обычная переменная типа `int`, которая хранит значение `199`.

И как при работе со строками, «переменные типа массив» можно присваивать друг другу:

```Java
int[] a = new int[10];  
a[2] = 4;  
a[7] = 9;  
int[] b = a;  
  
a[9] = b[2] + a[7];


Создаем массив на `10` элементов типа `int`.  
В ячейку с индексом `2` записываем значение `4`.  
В ячейку с индексом `7` записываем значение `9`.  
В переменную `b` сохраняем адрес, который есть в переменной `a`.  
Теперь `a` и `b` указывают на один и тот же объект-массив в памяти.  
В ячейку с индексом `9` объекта-массива записываем сумму значений, которые хранятся в ячейках `2` (хранится `4`) и `7` (хранится `9`).
```

При этом объект-массив будет оставаться там, где и был, а переменные `a` и `b` будут хранить одинаковые адреса (ссылки) на один и тот же объект.****
![Pasted image 20230320091135.png](..%2F..%2F..%2F..%2FAppData%2FLocal%2FTemp%2FPasted%20image%2020230320091135.png)

### 2. Работа с массивом более детально

Массив можно создать из абсолютно любого типа. Для этого нужно лишь после имени типа написать квадратные скобки. Общий вид создания массива будет такой:

```Java
тип[] имя = new тип[количество];
```

Где тип — это тип элементов (ячеек) массива, которые мы будем хранить в массиве. Имя — это имя переменной, по которой мы будем к массиву обращаться, а количество — это количество ячеек в массиве.

В примере выше приведена каноническая форма: создание переменной-массива и создание объекта-массива. На самом деле это две независимые конструкции.

Можно создать переменную-массив и объект-массив отдельно:

```Java
тип[] имя;
имя = new тип[количество];
```


В качестве индекса массива и в качестве количества элементов массива могут выступать переменные и даже целые выражения.

```Java
Создание массива из `n` элементов
int n = 100; 
int[] a = new int[n];

Создание массива на `203` элемента
int n = 100; 
int[] a = new int[n * 2 + 3];


// a[99] = 2; 
// a[98] = 3;
// a[20] = a[99] + a[98];
int n = 100;
int[] a = new int[n];
a[n-1] = 2; 
a[n-2] = 3; 
a[n/5] = a[n-1] + a[n-2]
```

Если попробовать обратиться к ячейке массива по индексу, которого в массиве нет (в нашем случае это все целые числа, кроме чисел `0..99`), программа аварийно завершится с ошибкой `ArrayIndexOfBoundException` — индекс за границами массива.


### 3. Длина массива


```Java
public class Solution {  
  
  public static int a;  
  
    public static void main(String[] args) {  
        int[] array;  
        if (a < 10)  
        {  
            array = new int[10];  
        }  
        else  
            array = new int[20];  
    }  
}
```

у массива есть специальное свойство (переменная) — `length`. И узнать длину массива можно с помощью такого выражения:

```java
array.length;
```

Где `array` — это имя переменной-массива, а `length` — это имя свойства у объекта-массива. Значение в свойстве `length` поменять нельзя: само свойство `length` можно присваивать другим переменным, но ему ничего присваивать нельзя (программа просто не скомпилируется).



```java
public class Solution {  
  
  
    public static void main(String[] args) {  
  
        Scanner scanner = new Scanner(System.in);  
        int a = scanner.nextInt();  
  
        int[] array;  
        if (a < 10)  
            array = new int[10];  
        else            array = new int[20];  
        for (int i = 0; i < array.length; i++) {  
            System.out.println(array[i]);  
        }  
    }  
}

Создаем переменную-массив типа `int[]`  
Если переменная `a` меньше `10`,  
то создать массив из `10` элементов.  
Иначе  
создать массив из `20` элементов  
Цикл по всем элементам массива: от `0` и до длины `array.length — 1`
```

### 4. Выводы

Факт 1. Массив состоит из множества ячеек.

Факт 2. Доступ к конкретной ячейке идёт через указание её номера.

Факт 3. Все ячейки одного типа.

Факт 4. Начальное значение для всех ячеек — 0 и `null` (если в ячейке хранится адрес), `false` (для типа `boolean`). [Подробнее о значениях по умолчанию вы узнаете в этой лекции](https://javarush.com/groups/posts/massivy-java).

Факт 5. `String[] list` – это просто объявление переменной: сам контейнер(объект-массив) еще не создан. Чтобы с ним можно было работать, нужно создать массив (контейнер) и положить его в эту переменную, а потом уже им пользоваться. См. пример ниже.

Факт 6. Когда мы создаём объект-массив (контейнер), нужно указать, какой он длины — сколько в нем ячеек. Это делается командой вида: `new TypeName[n]`;

Факт 7. Длину массива можно узнать через свойство `.length`.

Факт 8. После создания массива нельзя поменять ни тип его элементов, ни их количество.