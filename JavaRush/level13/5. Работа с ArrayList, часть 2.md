## 1. Вставка элемента в середину (или в начало) списка

Если же мы хотим вставить элемент в середину списка, то внутри списка происходит вот что.

Допустим есть список из 11 элементов:
Мы хотим вставить число 10,000 в список под номером 5, для этого нужно всего лишь выполнить команду:

```java
list.add(5, 10000);
```
Где `list` — это переменная типа `ArrayList`, метод `add(int index, тип value)` добавляет значение 10000 в позицию 5 в списке. Вот что при этом произойдет в методе `add()` :

Шаг 1: все элементы массива начиная с 5-го будут сдвинуты (скопированы) на 1 элемент к концу массива:
Обратите внимание: элементы в 5-й и 6-й ячейке массива теперь одинаковые.

Шаг 2: записываем в 5-ю ячейку значение 10,000:
Теперь в списке есть все элементы массива, а в пятой ячейке записано число 10,000. Как мы и хотели.
## 2. Удаление элемента из списка

Операция удаления элемента из списка аналогична его вставке, только процесс обратный.

Давайте удалим из списка элемент с индексом 3, для этого нужно выполнить команду:

```java
list.remove(3);
```

Вот что при этом произойдет в методе remove():

Шаг 1: элементы массива начиная с 4-го будут сдвинуты (скопированы) на одну позицию ближе к началу массива:
Шаг 2: значение переменной `size` будет уменьшено на 1.
Обратите внимание: в конце массива, который отмечен серым цветом, есть какие-то значения. Технически это мусор. Его нужно удалить, чтобы не мешать процессу сборки мусора.

Шаг 3: стирание мусора

## 3. Практические примеры работы со списком в Java

Давайте напишем несколько примеров работы со списками:

Занесём в список все четные числа от 1 до 20:

![Pasted image 20230911213625.png](..%2F..%2F..%2F..%2FAppData%2FLocal%2FTemp%2FPasted%20image%2020230911213625.png)

Удаление элементов:

А теперь давайте удалим все элементы, которые делятся на 4. Обратите внимание, что сразу после удаления одного элемента из списка позиции остальных элементов меняются.

![Pasted image 20230911214517.png](..%2F..%2F..%2F..%2FAppData%2FLocal%2FTemp%2FPasted%20image%2020230911214517.png)

Допустим, вам нужно удалить 3 последних элемента списка.

Как это сделать неправильно:

![Pasted image 20230911214554.png](..%2F..%2F..%2F..%2FAppData%2FLocal%2FTemp%2FPasted%20image%2020230911214554.png)

![Pasted image 20230911214649.png](..%2F..%2F..%2F..%2FAppData%2FLocal%2FTemp%2FPasted%20image%2020230911214649.png)
Элементы нужно или удалять с конца, или просто в одном и том же месте, а после каждого удаления элементы будут сдвигаться на один.